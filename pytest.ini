[pytest]
minversion = 6.0
addopts = -ra -q --color=yes
testpaths = custom_components/lifesmart/tests
python_files = test_*.py
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
pythonpath = .
markers =
    github: Mark tests to run in GitHub Actions CI
filterwarnings =
    # Ignore pytest-cov plugin deprecation warnings (external plugin issue)
    ignore:The hookimpl.*uses old-style configuration.*:pytest.PytestDeprecationWarning:pytest_cov.plugin
    # Ignore pytest-asyncio configuration warnings
    ignore:The configuration option.*asyncio_default_fixture_loop_scope.*is unset.*:pytest.PytestDeprecationWarning:pytest_asyncio.plugin
    # Ignore pkg_resources deprecation warnings (external package issue)
    ignore:pkg_resources is deprecated.*:UserWarning
    # Ignore other common test-related deprecation warnings that are beyond our control
    ignore:.*deprecated.*:DeprecationWarning:aiohttp.*
    ignore:.*deprecated.*:DeprecationWarning:homeassistant.*

[coverage:run]
source = custom_components.lifesmart
omit =
    custom_components/lifesmart/tests/*